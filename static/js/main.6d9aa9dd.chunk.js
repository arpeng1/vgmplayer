(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(51)},25:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(15),i=n.n(l),o=(n(25),n(5)),c=n.n(o),s=n(18),u=n(16),d=n(1),m=n(17),f=n.n(m);var p={getPlaylist:function(e){if(!g[e])return!1;var t=g[e];return f.a.get(t).then(function(e){return e.data})}},g={VIP:"https://vip.aersia.net/roster.xml",mellow:"https://vip.aersia.net/roster-mellow.xml",source:"https://vip.aersia.net/roster-source.xml",exiled:"https://vip.aersia.net/roster-exiled.xml",WAP:"https://wap.aersia.net/roster.xml",CPP:"https://cpp.aersia.net/roster.xml"};var v=function(e){var t=e.song,n=e.index,r=e.selectSong,l=e.hideShowSong,i=e.className,o=e.visible;return a.a.createElement("tr",{style:{cursor:"pointer",display:"flex"},className:i},o?a.a.createElement("td",{onClick:function(){return l(t)}},a.a.createElement("i",{className:"material-icons",style:{fontSize:"16px",paddingBottom:"0",marginTop:"4px"}},"clear")):a.a.createElement("td",{onClick:function(){return l(t)}},a.a.createElement("i",{className:"material-icons",style:{fontSize:"16px",paddingBottom:"0",marginTop:"3px"}},"add")),a.a.createElement("td",{onClick:function(){return r(t)},style:o?null:{textDecoration:"line-through"}},n," ",t.creator," - ",t.title))};var h=function(e){var t=e.songs,n=e.selectSong,r=e.hideShowSong,l=(e.selectedSong,t.map(function(e){var t="".concat(e.creator,"-").concat(e.title);return a.a.createElement(v,{song:e,key:t,selectSong:n,hideShowSong:r,visible:e.visible})}));return a.a.createElement("table",{style:{paddingBottom:"60px",paddingTop:"53px"}},a.a.createElement("tbody",null,l))};var b=function(e){var t=e.img,n=e.click,r=e.color,l={cursor:"pointer",color:void 0===r?null:r,khtmlUserSelect:"none",OUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",userSelect:"none"};return a.a.createElement("div",null,a.a.createElement("i",{className:"material-icons",onClick:function(){return n()},style:l},t))};var E=function(e){var t=e.progressPercent,n=e.mouseDown,r=e.trackBarRef,l=e.pointRef,i={position:"absolute",left:0,top:0,bottom:"10px",height:"10px",width:"".concat(t),background:"#FF9148"},o={position:"absolute",left:"".concat(t),top:"50%",bottom:"10px",height:"12px",width:"12px",background:"white",transform:"translate(-50%, -50%)"};return a.a.createElement("div",{style:{position:"relative",width:"100%",height:"10px",background:"#7f6157"},onMouseDown:function(e){return n(e)},ref:r},a.a.createElement("div",{style:i}),a.a.createElement("div",{style:o,onMouseDown:function(e){return n(e)},ref:l}))};var y=function(e){var t=e.songs,n=e.selectSong,l=e.selectedSong,i=Object(r.useRef)(),o=Object(r.useRef)(),c=Object(r.useRef)(),s=Object(r.useRef)(),u=Object(r.useState)(0),m=Object(d.a)(u,2),f=m[0],p=m[1],g=Object(r.useState)(0),v=Object(d.a)(g,2),h=v[0],y=v[1],w=Object(r.useState)(0),S=Object(d.a)(w,2),x=S[0],O=S[1],k=Object(r.useState)(!1),j=Object(d.a)(k,2),P=j[0],C=j[1],I=Object(r.useState)(!0),N=Object(d.a)(I,2),L=N[0],M=N[1],T=Object(r.useState)([]),W=Object(d.a)(T,2),B=W[0],R=W[1],_=Object(r.useState)(100),A=Object(d.a)(_,2),J=A[0],D=A[1],V=Object(r.useState)(!1),U=Object(d.a)(V,2),z=U[0],F=U[1];function X(){return Math.floor(Math.random()*(t.length-1))}function G(){if(null!==t&&0!==t.length)if(null===l){var e=L?X():0,r=t[e];n(r)}else!0===P?(i.current.pause(),C(!1)):(i.current.play(),C(!0))}function $(){if(null!==t&&0!==t.length&&B.length>1){var e=B[B.length-2];R(B.slice(0,B.length-2)),n(e)}}function q(){if(null!==t&&0!==t.length){var e=t.findIndex(function(e){return e.title===l.title}),r=0,a=null;if(L&&1!==t.length){r=X();var i=t.slice(0,e).concat(t.slice(e+1));a=Object.assign({},i[r])}else r=e+1>t.length-1?0:e+1,a=Object.assign({},t[r]);n(a)}}function H(){M(!L)}function K(e){if(0===e||isNaN(e))return"00:00";var t=Math.floor(e/60)+"",n=e-60*t+"";return t=1===t.length?"0"+t:t,n=1===n.length?"0"+n:n,"".concat(t,":").concat(n)}function Q(e){var t=o.current.offsetWidth,n=e-o.current.offsetLeft;n>0&&n<t?O(n/t*100+"%"):n<0?O("0%"):n>t&&O("100%")}function Y(e){s.current=!0,Q(e.pageX)}function Z(e){var t=o.current.offsetWidth,n=(e.pageX-o.current.offsetLeft)/t;l&&(i.current.currentTime=n*i.current.duration),s.current=!1,window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",Z)}function ee(e){s.current=!0,Q(e.pageX),window.addEventListener("mousemove",Y),window.addEventListener("mouseup",Z)}return Object(r.useEffect)(function(){p(0),y(0),O(0),null!==t&&0!==t.length&&l&&(R(B.concat(l)),i.current.src=l.location,i.current.play(),C(!0))},[l]),a.a.createElement("div",null,a.a.createElement("audio",{ref:i,onTimeUpdate:function(){return p(Math.floor(i.current.currentTime)),void(s.current||O(i.current.currentTime/i.current.duration*100+"%"))},onLoadedMetadata:function(){y(Math.floor(i.current.duration))},onEnded:function(){return q()},onError:function(){q()}},"Oops"),function(){var e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),t={margin:"0 1rem"},n={display:e?null:"grid",gridTemplateColumns:"40% auto 40%"},r={display:e?"none":null,margin:"0 1rem"},s={display:e?"none":null};return a.a.createElement("div",{style:{position:"fixed",paddingBottom:"10px",bottom:"0",width:"100%",height:"50px",backgroundColor:"#262626"}},a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement("p",{style:t},K(f)),a.a.createElement(E,{progressPercent:x,trackBarRef:o,pointRef:c,mouseDown:ee}),a.a.createElement("p",{style:t},K(h-f))),a.a.createElement("div",{style:n},a.a.createElement("div",{style:r},l?"".concat(l.title):""),a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-evenly"}},L?a.a.createElement(b,{img:"shuffle",click:H,color:"#FF9148"}):a.a.createElement(b,{img:"shuffle",click:H}),P?a.a.createElement(b,{img:"pause_circle_outline",click:G}):a.a.createElement(b,{img:"play_circle_outline",click:G}),a.a.createElement(b,{img:"skip_previous",click:$}),a.a.createElement(b,{img:"skip_next",click:q}),a.a.createElement("span",{style:s},a.a.createElement(b,{img:"volume_up",click:function(){return F(!z)}}))),a.a.createElement("div",null,z?a.a.createElement("div",{style:{width:"100%"}},a.a.createElement("input",{type:"range",min:"0",max:"100",value:J,onChange:function(e){return function(e){D(e.target.value),i.current.volume=e.target.value/100}(e)}})):null)))}())},w=n(44);var S=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],l=t[1],i=Object(r.useState)([]),o=Object(d.a)(i,2),m=o[0],f=o[1],g=Object(r.useState)("VIP"),v=Object(d.a)(g,2),b=v[0],E=v[1],S=Object(r.useState)(null),k=Object(d.a)(S,2),j=k[0],P=k[1],C=Object(r.useState)(""),I=Object(d.a)(C,2),N=I[0],L=I[1];function M(){return(M=Object(u.a)(c.a.mark(function e(t){var n,r,a,i,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.value,e.prev=2,E(n),e.next=6,p.getPlaylist(n);case 6:if((r=e.sent)&&!w.validate(r)){e.next=15;break}a=w.parse(r),i=T(a.playlist.trackList.track,n),l(i),o=W(i),f(o),e.next=16;break;case 15:throw new Error("invalid playlist xml format");case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0);case 21:case"end":return e.stop()}},e,null,[[2,18]])}))).apply(this,arguments)}function T(e,t){e=e.slice(O[t][0],e.length-O[t][1]);var n=new Map,r=[];return e.forEach(function(e){var t="".concat(e.title,"-").concat(e.creator);n.has(t)||"All Tracks"===e.creator||"I have spoken with God"===e.creator||(n.set(t,e),r.push(e))}),n=null,r}function W(e){var t=[],n=JSON.parse(localStorage.hidden);return e.forEach(function(e){n[b]["".concat(e.title)]?e.visible=!1:e.visible=!0,t.push(e)}),t}function B(e){P(e)}function R(e){if("hidden"===N){var t=JSON.parse(localStorage.hidden);return e.filter(function(e){return t[b]["".concat(e.title)]})}return e.filter(function(e){return-1!=="".concat(e.creator," - ").concat(e.title).toLowerCase().indexOf(N.toLowerCase())})}return Object(r.useEffect)(function(){p.getPlaylist(b).then(function(e){if(e&&!w.validate(e))throw console.log("error, invalid playlist xml format",b),new Error("invalid playlist");var t=T(w.parse(e).playlist.trackList.track,b);l(t);var n=W(t);f(n)})},[]),Object(r.useEffect)(function(){localStorage.hidden||localStorage.setItem("hidden",JSON.stringify({VIP:{},mellow:{},source:{},exiled:{},WAP:{},CPP:{}}))},[]),0===n.length?a.a.createElement("div",null,a.a.createElement("p",null,"Loading...")):a.a.createElement("div",null,function(){var e={display:window.innerWidth<=400?"none":null,margin:"0 1rem"};return a.a.createElement("div",{style:{position:"fixed",width:"100%",height:"53px",backgroundColor:"#262626",display:"flex",justifyContent:"space-between",alignItems:"center"}},a.a.createElement("div",null,a.a.createElement("div",{style:e},a.a.createElement("div",null,"VGM"),a.a.createElement("div",{style:{fontSize:"0.50rem"}},"playlists by Cats777"))),a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement("i",{className:"material-icons",style:{margin:"0 0.5rem",cursor:"pointer"},onClick:function(){alert("+/x shows/hides songs from playing.\n Type 'hidden' to filter by hidden songs.")}},"help_outline"),a.a.createElement("input",{value:N,placeholder:"Search...",onChange:function(e){return t=e.target.value,void L(t);var t}}),a.a.createElement("select",{value:b,onChange:function(e){return function(e){return M.apply(this,arguments)}(e)},style:{margin:"0.5rem 1rem"}},x.map(function(e){return a.a.createElement("option",{value:e,key:e},e)}))))}(),a.a.createElement(h,{songs:R(n),selectSong:B,selectedSong:j,hideShowSong:function(e){var t=n.findIndex(function(t){return t.title===e.title}),r=Object(s.a)({},e,{visible:!e.visible}),a=n.slice(0,t).concat(r,n.slice(t+1)),i=JSON.parse(localStorage.hidden);e.visible?(f(m.filter(function(t){return t.title!==e.title})),i[b]["".concat(e.title)]=!0):(f(m.concat(e)),delete i[b]["".concat(e.title)]),localStorage.setItem("hidden",JSON.stringify(i)),l(a)}}),a.a.createElement(y,{songs:R(m),selectSong:B,selectedSong:j}))},x=["VIP","mellow","source","exiled","WAP","CPP"],O={VIP:[5,1],mellow:[3,2],source:[5,1],exiled:[1,0],WAP:[3,0],CPP:[1,0]};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.6d9aa9dd.chunk.js.map