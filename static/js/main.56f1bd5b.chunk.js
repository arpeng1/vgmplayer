(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(50)},24:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(15),c=n.n(o),l=(n(24),n(5)),i=n.n(l),s=n(16),u=n(2),m=n(17),d=n.n(m);var f={getPlaylist:function(e){if(!p[e])return!1;var t=p[e];return d.a.get(t).then(function(e){return e.data})}},p={VIP:"https://vip.aersia.net/roster.xml",mellow:"https://vip.aersia.net/roster-mellow.xml",source:"https://vip.aersia.net/roster-source.xml",exiled:"https://vip.aersia.net/roster-exiled.xml",WAP:"https://wap.aersia.net/roster.xml",CPP:"https://cpp.aersia.net/roster.xml"};var v=function(e){var t=e.song,n=e.index,r=e.selectSong,o=e.className;return a.a.createElement("tr",{style:{cursor:"pointer"},onClick:function(){return r(t)},className:o},a.a.createElement("td",null,n," ",t.creator," - ",t.title))};var g=function(e){var t=e.songs,n=e.selectSong,r=(e.selectedSong,t.map(function(e){var t="".concat(e.creator,"-").concat(e.title);return a.a.createElement(v,{song:e,key:t,selectSong:n})}));return a.a.createElement("table",{style:{paddingBottom:"60px",paddingTop:"53px"}},a.a.createElement("tbody",null,r))};var h=function(e){var t=e.img,n=e.click,r=e.color,o={cursor:"pointer",color:void 0===r?null:r,khtmlUserSelect:"none",OUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",userSelect:"none"};return a.a.createElement("div",null,a.a.createElement("i",{className:"material-icons",onClick:function(){return n()},style:o},t))};var E=function(e){var t=e.progressPercent,n=e.mouseDown,r=e.trackBarRef,o=e.pointRef,c={position:"absolute",left:0,top:0,bottom:"10px",height:"10px",width:"".concat(t),background:"#FF9148"},l={position:"absolute",left:"".concat(t),top:"50%",bottom:"10px",height:"12px",width:"12px",background:"white",transform:"translate(-50%, -50%)"};return a.a.createElement("div",{style:{position:"relative",width:"100%",height:"10px",background:"#7f6157"},onMouseDown:function(e){return n(e)},ref:r},a.a.createElement("div",{style:c}),a.a.createElement("div",{style:l,onMouseDown:function(e){return n(e)},ref:o}))};var w=function(e){var t=e.songs,n=e.selectSong,o=e.selectedSong,c=Object(r.useRef)(),l=Object(r.useRef)(),i=Object(r.useRef)(),s=Object(r.useRef)(),m=Object(r.useState)(0),d=Object(u.a)(m,2),f=d[0],p=d[1],v=Object(r.useState)(0),g=Object(u.a)(v,2),w=g[0],b=g[1],y=Object(r.useState)(0),x=Object(u.a)(y,2),k=x[0],O=x[1],j=Object(r.useState)(!1),S=Object(u.a)(j,2),P=S[0],C=S[1],L=Object(r.useState)(!0),M=Object(u.a)(L,2),I=M[0],W=M[1],R=Object(r.useState)([]),T=Object(u.a)(R,2),A=T[0],B=T[1];function _(){return Math.floor(Math.random()*(t.length-1))}function D(){if(null===o){var e=I?_():0,r=t[e];n(r)}else!0===P?(c.current.pause(),C(!1)):(c.current.play(),C(!0))}function N(){if(A.length>1){var e=A[A.length-2];B(A.slice(0,A.length-2)),n(e)}}function U(){var e=t.findIndex(function(e){return e.title===o.title}),r=0,a=null;if(I&&1!==t.length){r=_();var c=t.slice(0,e).concat(t.slice(e+1));a=Object.assign({},c[r])}else r=e+1>t.length-1?0:e+1,a=Object.assign({},t[r]);n(a)}function F(){W(!I)}function V(e){if(0===e||isNaN(e))return"00:00";var t=Math.floor(e/60)+"",n=e-60*t+"";return t=1===t.length?"0"+t:t,n=1===n.length?"0"+n:n,"".concat(t,":").concat(n)}function X(e){var t=l.current.offsetWidth,n=e-l.current.offsetLeft;n>0&&n<t?O(n/t*100+"%"):n<0?O("0%"):n>t&&O("100%")}function z(e){s.current=!0,X(e.pageX)}function G(e){var t=l.current.offsetWidth,n=(e.pageX-l.current.offsetLeft)/t;o&&(c.current.currentTime=n*c.current.duration),s.current=!1,window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",G)}function J(e){s.current=!0,X(e.pageX),window.addEventListener("mousemove",z),window.addEventListener("mouseup",G)}return Object(r.useEffect)(function(){p(0),b(0),O(0),o&&(B(A.concat(o)),c.current.src=o.location,c.current.play(),C(!0))},[o]),a.a.createElement("div",null,a.a.createElement("audio",{ref:c,onTimeUpdate:function(){return p(Math.floor(c.current.currentTime)),void(s.current||O(c.current.currentTime/c.current.duration*100+"%"))},onLoadedMetadata:function(){b(Math.floor(c.current.duration))},onEnded:function(){return U()},onError:function(){U()}},"Oops"),function(){var e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),t={margin:"0 1rem"},n={display:e?null:"grid",gridTemplateColumns:"40% auto 40%"},r={display:e?"none":null,margin:"0 1rem"};return a.a.createElement("div",{style:{position:"fixed",paddingBottom:"10px",bottom:"0",width:"100%",height:"50px",backgroundColor:"#262626"}},a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement("p",{style:t},V(f)),a.a.createElement(E,{progressPercent:k,trackBarRef:l,pointRef:i,mouseDown:J}),a.a.createElement("p",{style:t},V(w-f))),a.a.createElement("div",{style:n},a.a.createElement("div",{style:r},o?"".concat(o.title):""),a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-evenly"}},I?a.a.createElement(h,{img:"shuffle",click:F,color:"#FF9148"}):a.a.createElement(h,{img:"shuffle",click:F}),P?a.a.createElement(h,{img:"pause_circle_outline",click:D}):a.a.createElement(h,{img:"play_circle_outline",click:D}),a.a.createElement(h,{img:"skip_previous",click:N}),a.a.createElement(h,{img:"skip_next",click:U})),a.a.createElement("div",null)))}())},b=n(43);var y=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)("mellow"),l=Object(u.a)(c,2),m=l[0],d=l[1],p=Object(r.useState)(null),v=Object(u.a)(p,2),h=v[0],E=v[1],y=Object(r.useState)(""),O=Object(u.a)(y,2),j=O[0],S=O[1];function P(){return(P=Object(s.a)(i.a.mark(function e(t){var n,r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.value,e.prev=2,d(n),e.next=6,f.getPlaylist(n);case 6:if((r=e.sent)&&!b.validate(r)){e.next=12;break}a=b.parse(r),o(C(a.playlist.trackList.track,n)),e.next=13;break;case 12:throw new Error("invalid playlist xml format");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[2,15]])}))).apply(this,arguments)}function C(e,t){e=e.slice(k[t][0],e.length-k[t][1]);var n=new Map,r=[];return e.forEach(function(e){var t="".concat(e.title,"-").concat(e.creator);n.has(t)||"All Tracks"===e.creator||"I have spoken with God"===e.creator||(n.set(t,e),r.push(e))}),n=null,r}function L(e){E(e)}function M(e){return e.filter(function(e){return-1!=="".concat(e.creator," - ").concat(e.title).toLowerCase().indexOf(j.toLowerCase())})}return Object(r.useEffect)(function(){f.getPlaylist(m).then(function(e){if(e&&!b.validate(e))throw console.log("error, invalid playlist xml format",m),new Error("invalid playlist");var t=C(b.parse(e).playlist.trackList.track,m);o(t)})},[]),0===n.length?a.a.createElement("div",null,a.a.createElement("p",null,"Loading...")):a.a.createElement("div",null,function(){var e={display:window.innerWidth<=812&&window.innerHeight<=812?"none":null,margin:"0 1rem"};return a.a.createElement("div",{style:{position:"fixed",width:"100%",height:"53px",backgroundColor:"#262626",display:"flex",justifyContent:"space-between",alignItems:"center"}},a.a.createElement("div",null,a.a.createElement("div",{style:e},a.a.createElement("div",null,"VGM"),a.a.createElement("div",{style:{fontSize:"0.50rem"}},"playlists by Cats777"))),a.a.createElement("div",null,a.a.createElement("input",{value:j,placeholder:"Search...",onChange:function(e){return t=e.target.value,void S(t);var t}}),a.a.createElement("select",{value:m,onChange:function(e){return function(e){return P.apply(this,arguments)}(e)},style:{margin:"0.5rem 1rem"}},x.map(function(e){return a.a.createElement("option",{value:e,key:e},e)}))))}(),a.a.createElement(g,{songs:M(n),selectSong:L,selectedSong:h}),a.a.createElement(w,{songs:M(n),selectSong:L,selectedSong:h}))},x=["VIP","mellow","source","exiled","WAP","CPP"],k={VIP:[5,1],mellow:[3,2],source:[5,1],exiled:[1,0],WAP:[3,0],CPP:[1,0]};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.56f1bd5b.chunk.js.map