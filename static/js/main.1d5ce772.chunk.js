(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(50)},24:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),o=n.n(c),l=(n(24),n(5)),i=n.n(l),u=n(16),s=n(2),m=n(17),f=n.n(m);var p={getPlaylist:function(e){if(!d[e])return!1;var t=d[e];return f.a.get(t).then(function(e){return e.data})}},d={VIP:"https://vip.aersia.net/roster.xml",mellow:"https://vip.aersia.net/roster-mellow.xml",source:"https://vip.aersia.net/roster-source.xml",exiled:"https://vip.aersia.net/roster-exiled.xml",WAP:"https://wap.aersia.net/roster.xml",CPP:"https://cpp.aersia.net/roster.xml"};var v=function(e){var t=e.song,n=e.index,r=e.selectSong,c=e.className;return a.a.createElement("tr",{onClick:function(){return r(t)},className:c},a.a.createElement("td",null,n," ",t.creator," - ",t.title))};var g=function(e){var t=e.songs,n=e.selectSong,r=(e.selectedSong,t.map(function(e){var t="".concat(e.creator,"-").concat(e.title);return a.a.createElement(v,{song:e,key:t,selectSong:n})}));return a.a.createElement("table",{style:{paddingBottom:"60px"}},a.a.createElement("tbody",null,r))};var h=function(e){var t=e.img,n=e.click,r=e.color,c={cursor:"pointer",color:void 0===r?null:r,khtmlUserSelect:"none",OUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",userSelect:"none"};return a.a.createElement("div",null,a.a.createElement("i",{className:"material-icons",onClick:function(){return n()},style:c},t))};var E=function(e){var t=e.progressPercent,n=e.mouseDown,r=e.trackBarRef,c=e.pointRef,o={position:"absolute",left:0,top:0,bottom:"10px",height:"10px",width:"".concat(t),background:"#FF9148"},l={position:"absolute",left:"".concat(t),top:"50%",bottom:"10px",height:"12px",width:"12px",background:"white",transform:"translate(-50%, -50%)"};return a.a.createElement("div",{style:{position:"relative",width:"100%",height:"10px",background:"#7f6157"},onMouseDown:function(e){return n(e)},ref:r},a.a.createElement("div",{style:o}),a.a.createElement("div",{style:l,onMouseDown:function(e){return n(e)},ref:c}))};var b=function(e){var t=e.songs,n=e.selectSong,c=e.selectedSong,o=Object(r.useRef)(),l=Object(r.useRef)(),i=Object(r.useRef)(),u=Object(r.useRef)(),m=Object(r.useState)(0),f=Object(s.a)(m,2),p=f[0],d=f[1],v=Object(r.useState)(0),g=Object(s.a)(v,2),b=g[0],w=g[1],y=Object(r.useState)(0),k=Object(s.a)(y,2),x=k[0],j=k[1],O=Object(r.useState)(!1),S=Object(s.a)(O,2),P=S[0],C=S[1],M=Object(r.useState)(!0),L=Object(s.a)(M,2),I=L[0],R=L[1],W=Object(r.useState)([]),_=Object(s.a)(W,2),B=_[0],T=_[1],D=Object(r.useState)(100),N=Object(s.a)(D,2),U=N[0],A=N[1],F=Object(r.useState)(!1),V=Object(s.a)(F,2),X=V[0],G=V[1];function J(){return Math.floor(Math.random()*t.length)}function z(){if(null===c){var e=I?J():0,r=t[e];n(r)}else!0===P?(o.current.pause(),C(!1)):(o.current.play(),C(!0))}function $(){if(B.length>1){var e=B[B.length-2];T(B.slice(0,B.length-2)),n(e)}}function q(){var e=I?J():t.findIndex(function(e){return e===c})+1,r=t[e];n(r)}function H(){R(!I)}function K(e){if(0===e||isNaN(e))return"00:00";var t=Math.floor(e/60)+"",n=e-60*t+"";return t=1===t.length?"0"+t:t,n=1===n.length?"0"+n:n,"".concat(t,":").concat(n)}function Q(e){var t=l.current.offsetWidth,n=e-l.current.offsetLeft;n>0&&n<t?j(n/t*100+"%"):n<0?j("0%"):n>t&&j("100%")}function Y(e){u.current=!0,Q(e.pageX)}function Z(e){var t=l.current.offsetWidth,n=(e.pageX-l.current.offsetLeft)/t;c&&(o.current.currentTime=n*o.current.duration),u.current=!1,window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",Z)}function ee(e){u.current=!0,Q(e.pageX),window.addEventListener("mousemove",Y),window.addEventListener("mouseup",Z)}return Object(r.useEffect)(function(){d(0),w(0),j(0),c&&(T(B.concat(c)),o.current.src=c.location,o.current.play(),C(!0))},[c]),a.a.createElement("div",null,a.a.createElement("audio",{ref:o,onTimeUpdate:function(){return d(Math.floor(o.current.currentTime)),void(u.current||j(o.current.currentTime/o.current.duration*100+"%"))},onLoadedMetadata:function(){w(Math.floor(o.current.duration))},onEnded:function(){return q()},onError:function(){q()}},"Oops"),function(){var e={margin:"0 1rem"};return a.a.createElement("div",{style:{position:"fixed",paddingBottom:"10px",bottom:"0",width:"100%",height:"50px",backgroundColor:"#262626"}},a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement("p",{style:e},K(p)),a.a.createElement(E,{progressPercent:x,trackBarRef:l,pointRef:i,mouseDown:ee}),a.a.createElement("p",{style:e},K(b-p))),a.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"40% auto 40%"}},a.a.createElement("div",{style:{margin:"0 1rem"}},c?"".concat(c.title):""),a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-evenly"}},I?a.a.createElement(h,{img:"shuffle",click:H,color:"#FF9148"}):a.a.createElement(h,{img:"shuffle",click:H}),a.a.createElement(h,{img:"skip_previous",click:$}),P?a.a.createElement(h,{img:"pause_circle_outline",click:z}):a.a.createElement(h,{img:"play_circle_outline",click:z}),a.a.createElement(h,{img:"skip_next",click:q}),a.a.createElement(h,{img:"volume_up",click:function(){return G(!X)}})),a.a.createElement("div",null,X?a.a.createElement("div",{style:{width:"100%"}},a.a.createElement("input",{type:"range",min:"0",max:"100",value:U,onChange:function(e){return function(e){A(e.target.value),o.current.volume=e.target.value/100}(e)}})):null)))}())},w=n(43);var y=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)("mellow"),l=Object(s.a)(o,2),m=l[0],f=l[1],d=Object(r.useState)(null),v=Object(s.a)(d,2),h=v[0],E=v[1];function y(){return(y=Object(u.a)(i.a.mark(function e(t){var n,r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.value,e.prev=2,f(n),e.next=6,p.getPlaylist(n);case 6:if((r=e.sent)&&!w.validate(r)){e.next=12;break}a=w.parse(r),c(j(a.playlist.trackList.track,n)),e.next=13;break;case 12:throw new Error("invalid playlist xml format");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[2,15]])}))).apply(this,arguments)}function j(e,t){e=e.slice(x[t][0],e.length-x[t][1]);var n=new Map,r=[];return e.forEach(function(e){var t="".concat(e.title,"-").concat(e.creator);n.has(t)||"All Tracks"===e.creator||"I have spoken with God"===e.creator||(n.set(t,e),r.push(e))}),n=null,r}function O(e){E(e)}return Object(r.useEffect)(function(){p.getPlaylist(m).then(function(e){if(e&&!w.validate(e))throw console.log("error, invalid playlist xml format",m),new Error("invalid playlist");var t=j(w.parse(e).playlist.trackList.track,m);c(t)})},[]),0===n.length?a.a.createElement("div",null,a.a.createElement("p",null,"Loading...")):a.a.createElement("div",null,a.a.createElement("div",{style:{width:"100%",backgroundColor:"#262626",display:"flex",justifyContent:"space-between"}},a.a.createElement("p",null,"Video Game Music Player"),a.a.createElement("select",{value:m,onChange:function(e){return function(e){return y.apply(this,arguments)}(e)},style:{margin:"0.5rem 1rem"}},k.map(function(e){return a.a.createElement("option",{value:e,key:e},e)}))),a.a.createElement(g,{songs:n,selectSong:O,selectedSong:h}),a.a.createElement(b,{songs:n,selectSong:O,selectedSong:h}))},k=["VIP","mellow","source","exiled","WAP","CPP"],x={VIP:[5,1],mellow:[3,2],source:[5,1],exiled:[1,0],WAP:[3,0],CPP:[1,0]};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.1d5ce772.chunk.js.map