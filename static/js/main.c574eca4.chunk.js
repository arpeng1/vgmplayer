(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(50)},24:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),o=n.n(c),l=(n(24),n(5)),i=n.n(l),s=n(16),u=n(1),m=n(17),f=n.n(m);var d={getPlaylist:function(e){if(!p[e])return!1;var t=p[e];return f.a.get(t).then(function(e){return e.data})}},p={VIP:"https://vip.aersia.net/roster.xml",mellow:"https://vip.aersia.net/roster-mellow.xml",source:"https://vip.aersia.net/roster-source.xml",exiled:"https://vip.aersia.net/roster-exiled.xml",WAP:"https://wap.aersia.net/roster.xml",CPP:"https://cpp.aersia.net/roster.xml"};var v=function(e){var t=e.song,n=e.index,r=e.selectSong,c=e.className;return a.a.createElement("tr",{style:{cursor:"pointer"},onClick:function(){return r(t)},className:c},a.a.createElement("td",null,n," ",t.creator," - ",t.title))};var g=function(e){var t=e.songs,n=e.selectSong,r=(e.selectedSong,t.map(function(e){var t="".concat(e.creator,"-").concat(e.title);return a.a.createElement(v,{song:e,key:t,selectSong:n})}));return a.a.createElement("table",{style:{paddingBottom:"60px",paddingTop:"53px"}},a.a.createElement("tbody",null,r))};var h=function(e){var t=e.img,n=e.click,r=e.color,c={cursor:"pointer",color:void 0===r?null:r,khtmlUserSelect:"none",OUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",userSelect:"none"};return a.a.createElement("div",null,a.a.createElement("i",{className:"material-icons",onClick:function(){return n()},style:c},t))};var E=function(e){var t=e.progressPercent,n=e.mouseDown,r=e.trackBarRef,c=e.pointRef,o={position:"absolute",left:0,top:0,bottom:"10px",height:"10px",width:"".concat(t),background:"#FF9148"},l={position:"absolute",left:"".concat(t),top:"50%",bottom:"10px",height:"12px",width:"12px",background:"white",transform:"translate(-50%, -50%)"};return a.a.createElement("div",{style:{position:"relative",width:"100%",height:"10px",background:"#7f6157"},onMouseDown:function(e){return n(e)},ref:r},a.a.createElement("div",{style:o}),a.a.createElement("div",{style:l,onMouseDown:function(e){return n(e)},ref:c}))};var b=function(e){var t=e.songs,n=e.selectSong,c=e.selectedSong,o=Object(r.useRef)(),l=Object(r.useRef)(),i=Object(r.useRef)(),s=Object(r.useRef)(),m=Object(r.useState)(0),f=Object(u.a)(m,2),d=f[0],p=f[1],v=Object(r.useState)(0),g=Object(u.a)(v,2),b=g[0],y=g[1],w=Object(r.useState)(0),x=Object(u.a)(w,2),k=x[0],O=x[1],j=Object(r.useState)(!1),S=Object(u.a)(j,2),P=S[0],C=S[1],L=Object(r.useState)(!0),M=Object(u.a)(L,2),I=M[0],W=M[1],R=Object(r.useState)([]),T=Object(u.a)(R,2),_=T[0],A=T[1],B=Object(r.useState)(100),D=Object(u.a)(B,2),N=D[0],U=D[1],V=Object(r.useState)(!1),F=Object(u.a)(V,2),X=F[0],z=F[1];function G(){return Math.floor(Math.random()*(t.length-1))}function J(){if(null===c){var e=I?G():0,r=t[e];n(r)}else!0===P?(o.current.pause(),C(!1)):(o.current.play(),C(!0))}function $(){if(_.length>1){var e=_[_.length-2];A(_.slice(0,_.length-2)),n(e)}}function q(){var e=t.findIndex(function(e){return e.title===c.title}),r=0,a=null;if(I&&1!==t.length){r=G();var o=t.slice(0,e).concat(t.slice(e+1));a=Object.assign({},o[r])}else r=e+1>t.length-1?0:e+1,a=Object.assign({},t[r]);n(a)}function H(){W(!I)}function K(e){if(0===e||isNaN(e))return"00:00";var t=Math.floor(e/60)+"",n=e-60*t+"";return t=1===t.length?"0"+t:t,n=1===n.length?"0"+n:n,"".concat(t,":").concat(n)}function Q(e){var t=l.current.offsetWidth,n=e-l.current.offsetLeft;n>0&&n<t?O(n/t*100+"%"):n<0?O("0%"):n>t&&O("100%")}function Y(e){s.current=!0,Q(e.pageX)}function Z(e){var t=l.current.offsetWidth,n=(e.pageX-l.current.offsetLeft)/t;c&&(o.current.currentTime=n*o.current.duration),s.current=!1,window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",Z)}function ee(e){s.current=!0,Q(e.pageX),window.addEventListener("mousemove",Y),window.addEventListener("mouseup",Z)}return Object(r.useEffect)(function(){p(0),y(0),O(0),c&&(A(_.concat(c)),o.current.src=c.location,o.current.play(),C(!0))},[c]),a.a.createElement("div",null,a.a.createElement("audio",{ref:o,onTimeUpdate:function(){return p(Math.floor(o.current.currentTime)),void(s.current||O(o.current.currentTime/o.current.duration*100+"%"))},onLoadedMetadata:function(){y(Math.floor(o.current.duration))},onEnded:function(){return q()},onError:function(){q()}},"Oops"),function(){var e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),t={margin:"0 1rem"},n={display:e?null:"grid",gridTemplateColumns:"40% auto 40%"},r={display:e?"none":null,margin:"0 1rem"},s={display:e?"none":null};return a.a.createElement("div",{style:{position:"fixed",paddingBottom:"10px",bottom:"0",width:"100%",height:"50px",backgroundColor:"#262626"}},a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement("p",{style:t},K(d)),a.a.createElement(E,{progressPercent:k,trackBarRef:l,pointRef:i,mouseDown:ee}),a.a.createElement("p",{style:t},K(b-d))),a.a.createElement("div",{style:n},a.a.createElement("div",{style:r},c?"".concat(c.title):""),a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-evenly"}},I?a.a.createElement(h,{img:"shuffle",click:H,color:"#FF9148"}):a.a.createElement(h,{img:"shuffle",click:H}),P?a.a.createElement(h,{img:"pause_circle_outline",click:J}):a.a.createElement(h,{img:"play_circle_outline",click:J}),a.a.createElement(h,{img:"skip_previous",click:$}),a.a.createElement(h,{img:"skip_next",click:q}),a.a.createElement("span",{style:s},a.a.createElement(h,{img:"volume_up",click:function(){return z(!X)}}))),a.a.createElement("div",null,X?a.a.createElement("div",{style:{width:"100%"}},a.a.createElement("input",{type:"range",min:"0",max:"100",value:N,onChange:function(e){return function(e){U(e.target.value),o.current.volume=e.target.value/100}(e)}})):null)))}())},y=n(43);var w=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)("VIP"),l=Object(u.a)(o,2),m=l[0],f=l[1],p=Object(r.useState)(null),v=Object(u.a)(p,2),h=v[0],E=v[1],w=Object(r.useState)(""),O=Object(u.a)(w,2),j=O[0],S=O[1];function P(){return(P=Object(s.a)(i.a.mark(function e(t){var n,r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.value,e.prev=2,f(n),e.next=6,d.getPlaylist(n);case 6:if((r=e.sent)&&!y.validate(r)){e.next=12;break}a=y.parse(r),c(C(a.playlist.trackList.track,n)),e.next=13;break;case 12:throw new Error("invalid playlist xml format");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[2,15]])}))).apply(this,arguments)}function C(e,t){e=e.slice(k[t][0],e.length-k[t][1]);var n=new Map,r=[];return e.forEach(function(e){var t="".concat(e.title,"-").concat(e.creator);n.has(t)||"All Tracks"===e.creator||"I have spoken with God"===e.creator||(n.set(t,e),r.push(e))}),n=null,r}function L(e){E(e)}function M(e){return e.filter(function(e){return-1!=="".concat(e.creator," - ").concat(e.title).toLowerCase().indexOf(j.toLowerCase())})}return Object(r.useEffect)(function(){d.getPlaylist(m).then(function(e){if(e&&!y.validate(e))throw console.log("error, invalid playlist xml format",m),new Error("invalid playlist");var t=C(y.parse(e).playlist.trackList.track,m);c(t)})},[]),0===n.length?a.a.createElement("div",null,a.a.createElement("p",null,"Loading...")):a.a.createElement("div",null,function(){var e={display:window.innerWidth<=400?"none":null,margin:"0 1rem"};return a.a.createElement("div",{style:{position:"fixed",width:"100%",height:"53px",backgroundColor:"#262626",display:"flex",justifyContent:"space-between",alignItems:"center"}},a.a.createElement("div",null,a.a.createElement("div",{style:e},a.a.createElement("div",null,"VGM"),a.a.createElement("div",{style:{fontSize:"0.50rem"}},"playlists by Cats777"))),a.a.createElement("div",null,a.a.createElement("input",{value:j,placeholder:"Search...",onChange:function(e){return t=e.target.value,void S(t);var t}}),a.a.createElement("select",{value:m,onChange:function(e){return function(e){return P.apply(this,arguments)}(e)},style:{margin:"0.5rem 1rem"}},x.map(function(e){return a.a.createElement("option",{value:e,key:e},e)}))))}(),a.a.createElement(g,{songs:M(n),selectSong:L,selectedSong:h}),a.a.createElement(b,{songs:M(n),selectSong:L,selectedSong:h}))},x=["VIP","mellow","source","exiled","WAP","CPP"],k={VIP:[5,1],mellow:[3,2],source:[5,1],exiled:[1,0],WAP:[3,0],CPP:[1,0]};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.c574eca4.chunk.js.map